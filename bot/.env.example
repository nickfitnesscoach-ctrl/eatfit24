# =============================================================================
# EatFit24 Bot — Environment Variables (Template)
# =============================================================================
# Скопируйте в .env и заполните реальными значениями.
# НИКОГДА не коммитьте .env с секретами.
# =============================================================================


# =============================================================================
# TELEGRAM BOT
# =============================================================================

# Telegram bot token (от @BotFather)
# ОБЯЗАТЕЛЬНО
TELEGRAM_BOT_TOKEN=<REPLACE_ME>

# Bot API secret (для X-Bot-Secret header в запросах к Django)
# Генерация: openssl rand -hex 32
# ОБЯЗАТЕЛЬНО
TELEGRAM_BOT_API_SECRET=<REPLACE_ME>

# ID администраторов Telegram (через запятую)
# ОБЯЗАТЕЛЬНО: ваш Telegram user ID
# Используется: config.py -> admin_ids property
TELEGRAM_ADMINS=310151740


# =============================================================================
# OPENROUTER AI (для генерации планов питания ботом)
# =============================================================================

# OpenRouter API Key
# ОБЯЗАТЕЛЬНО: бот использует для генерации персональных планов
OPENROUTER_API_KEY=<REPLACE_ME>

# OpenRouter model
OPENROUTER_MODEL=meta-llama/llama-3.1-70b-instruct

# OpenRouter base URL
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Timeout для AI запросов (сек)
OPENROUTER_TIMEOUT=30

# Версия промпта
AI_PROMPT_VERSION=v1.0

# Retry configuration
OPENROUTER_RETRY_ATTEMPTS=3
OPENROUTER_RETRY_MIN_WAIT=2
OPENROUTER_RETRY_MAX_WAIT=10
OPENROUTER_RETRY_MULTIPLIER=2


# =============================================================================
# DJANGO API INTEGRATION
# =============================================================================

# Django API URL (бот НЕ имеет прямого доступа к БД, только через API)
# Docker dev: http://backend:8000/api/v1
# Production: https://eatfit24.ru/api/v1
# ОБЯЗАТЕЛЬНО
DJANGO_API_URL=http://backend:8000/api/v1

# Django API timeout (сек)
DJANGO_API_TIMEOUT=30

# Django API retry configuration
DJANGO_RETRY_ATTEMPTS=3
DJANGO_RETRY_MIN_WAIT=1
DJANGO_RETRY_MAX_WAIT=8
DJANGO_RETRY_MULTIPLIER=2


# =============================================================================
# TELEGRAM WEBAPP
# =============================================================================

# Telegram Mini App URL
# Dev: http://localhost:3000
# Prod: https://eatfit24.ru/app
WEB_APP_URL=https://eatfit24.ru/app

# Trainer panel base URL
TRAINER_PANEL_BASE_URL=https://eatfit24.ru/app


# =============================================================================
# REDIS (опционально, для FSM storage)
# =============================================================================

# FSM storage type (memory или redis)
# Для dev обычно memory, для prod можно redis
FSM_STORAGE_TYPE=memory

# Redis settings (если FSM_STORAGE_TYPE=redis)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=


# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development или production)
ENVIRONMENT=production

# Debug mode (для локальной разработки)
DEBUG_MODE=false

# Timezone
DEFAULT_TIMEZONE=Europe/Moscow

# FSM state TTL (минуты)
FSM_STATE_TTL=30

# Image cache TTL (дни)
IMAGE_CACHE_TTL=30

# Rate limit (запросов в минуту на пользователя)
RATE_LIMIT_PER_MINUTE=20

# Максимум планов питания в день на пользователя
MAX_PLANS_PER_DAY=3

# Telegram username тренера (без @)
TRAINER_USERNAME=NicolasBatalin

# Project URL (для OpenRouter)
PROJECT_URL=https://github.com/yourusername/eatfit24


# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Personal plan feature (on/off)
FEATURE_PERSONAL_PLAN=on


# =============================================================================
# LOGGING
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/bot.log

# Log rotation
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5


# =============================================================================
# ЗАПРЕЩЁННЫЕ ПЕРЕМЕННЫЕ ДЛЯ BOT
# =============================================================================
# Bot НЕ ДОЛЖЕН содержать:
# - POSTGRES_* (бот не работает с БД напрямую, только через Django API)
# - YOOKASSA_* (биллинг обрабатывается только в backend)
# - Дублирующие admin vars: используйте ТОЛЬКО TELEGRAM_ADMINS
#   (BOT_ADMIN_ID и ADMIN_IDS deprecated, обрабатываются в config.admin_ids для обратной совместимости)
